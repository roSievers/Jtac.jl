function combined_index(o_row, o_col, i_row, i_col)
    27 * (o_row - 1) + 9 * (o_col - 1) + 3 * (i_row - 1) + i_col
end